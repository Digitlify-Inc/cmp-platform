# Saleor Product Seed Data for GSV Agent Store
# =============================================
# Run these mutations to create initial AI agent products.
#
# Prerequisites:
# 1. Run saleor-setup-attributes.graphql first
# 2. Have attribute IDs ready
# 3. Have product type ID ready
#
# Product Metadata Keys:
# - cp_offering_id: Control Plane offering UUID
# - credits_estimate_min: Minimum credits per run
# - credits_estimate_max: Maximum credits per run
# - credits_estimate_label: Human-readable estimate (e.g., "~5-15/run")
# - primary_outcome: Primary outcome key
# - primary_role: Primary role key

# =============================================================================
# AGENTS
# =============================================================================

# 1. Customer Support Agent
mutation CreateCustomerSupportAgent {
  productCreate(input: {
    productType: "UHJvZHVjdFR5cGU6MQ=="  # Offering product type ID
    name: "Customer Support Agent"
    slug: "customer-support-agent"
    description: "AI agent that handles tier-1 customer inquiries automatically. Reduces ticket volume by 40-60% while maintaining high CSAT scores."
    category: "Q2F0ZWdvcnk6MQ=="  # Agents category ID
    isPublished: true
    metadata: [
      { key: "cp_offering_id", value: "cust-support-agent-001" }
      { key: "credits_estimate_min", value: "3" }
      { key: "credits_estimate_max", value: "8" }
      { key: "credits_estimate_label", value: "~3-8/message" }
      { key: "primary_outcome", value: "customer_support" }
      { key: "primary_role", value: "customer_support" }
    ]
    attributes: [
      { id: "QXR0cmlidXRlOjE=", values: ["agent"] }           # gsv_category
      { id: "QXR0cmlidXRlOjI=", values: ["customer_support"] }  # gsv_roles
      { id: "QXR0cmlidXRlOjM=", values: ["customer_support"] }  # gsv_value_stream
      { id: "QXR0cmlidXRlOjQ=", values: ["chat_ui", "web_widget", "rag_knowledgebase", "multilingual"] }  # gsv_capabilities
      { id: "QXR0cmlidXRlOjU=", values: ["slack", "zendesk", "intercom"] }  # gsv_integrations
      { id: "QXR0cmlidXRlOjY=", values: ["shared"] }          # gsv_deployment
      { id: "QXR0cmlidXRlOjc=", values: ["stable"] }          # gsv_maturity
      { id: "QXR0cmlidXRlOjk=", values: ["verified", "featured", "trial_available"] }  # gsv_badges
    ]
  }) {
    product {
      id
      slug
      name
    }
    errors {
      field
      message
    }
  }
}

# 2. Sales Outreach Agent
mutation CreateSalesOutreachAgent {
  productCreate(input: {
    productType: "UHJvZHVjdFR5cGU6MQ=="
    name: "Sales Outreach Agent"
    slug: "sales-outreach-agent"
    description: "AI SDR that researches prospects, crafts personalized messages, and books meetings. Increases qualified meetings by 3x."
    category: "Q2F0ZWdvcnk6MQ=="
    isPublished: true
    metadata: [
      { key: "cp_offering_id", value: "sales-outreach-agent-001" }
      { key: "credits_estimate_min", value: "5" }
      { key: "credits_estimate_max", value: "15" }
      { key: "credits_estimate_label", value: "~5-15/prospect" }
      { key: "primary_outcome", value: "sales_outreach" }
      { key: "primary_role", value: "sales_sdr" }
    ]
    attributes: [
      { id: "QXR0cmlidXRlOjE=", values: ["agent"] }
      { id: "QXR0cmlidXRlOjI=", values: ["sales_sdr"] }
      { id: "QXR0cmlidXRlOjM=", values: ["sales_outreach", "meeting_scheduler"] }
      { id: "QXR0cmlidXRlOjQ=", values: ["tool_connectors", "api_endpoint", "scheduler_triggers"] }
      { id: "QXR0cmlidXRlOjU=", values: ["email", "hubspot", "salesforce", "google_calendar"] }
      { id: "QXR0cmlidXRlOjY=", values: ["shared"] }
      { id: "QXR0cmlidXRlOjc=", values: ["stable"] }
      { id: "QXR0cmlidXRlOjk=", values: ["verified", "trial_available"] }
    ]
  }) {
    product {
      id
      slug
      name
    }
    errors {
      field
      message
    }
  }
}

# 3. Code Review Agent
mutation CreateCodeReviewAgent {
  productCreate(input: {
    productType: "UHJvZHVjdFR5cGU6MQ=="
    name: "Code Review Agent"
    slug: "code-review-agent"
    description: "AI agent that reviews pull requests, identifies bugs and security issues, and suggests improvements. Speeds up code review by 70%."
    category: "Q2F0ZWdvcnk6MQ=="
    isPublished: true
    metadata: [
      { key: "cp_offering_id", value: "code-review-agent-001" }
      { key: "credits_estimate_min", value: "10" }
      { key: "credits_estimate_max", value: "30" }
      { key: "credits_estimate_label", value: "~10-30/PR" }
      { key: "primary_outcome", value: "monitoring_alerting" }
      { key: "primary_role", value: "it_helpdesk" }
    ]
    attributes: [
      { id: "QXR0cmlidXRlOjE=", values: ["agent"] }
      { id: "QXR0cmlidXRlOjI=", values: ["it_helpdesk", "operations"] }
      { id: "QXR0cmlidXRlOjM=", values: ["monitoring_alerting"] }
      { id: "QXR0cmlidXRlOjQ=", values: ["tool_connectors", "api_endpoint", "guardrails_policy", "audit_trail"] }
      { id: "QXR0cmlidXRlOjU=", values: ["github", "jira", "slack"] }
      { id: "QXR0cmlidXRlOjY=", values: ["shared"] }
      { id: "QXR0cmlidXRlOjc=", values: ["beta"] }
      { id: "QXR0cmlidXRlOjk=", values: ["new", "trial_available"] }
    ]
  }) {
    product {
      id
      slug
      name
    }
    errors {
      field
      message
    }
  }
}

# =============================================================================
# ASSISTANTS
# =============================================================================

# 4. Knowledge Base Assistant
mutation CreateKnowledgeBaseAssistant {
  productCreate(input: {
    productType: "UHJvZHVjdFR5cGU6MQ=="
    name: "Knowledge Base Assistant"
    slug: "knowledge-base-assistant"
    description: "AI assistant that answers questions from your documentation, policies, and knowledge base. RAG-powered for accurate, sourced answers."
    category: "Q2F0ZWdvcnk6MQ=="
    isPublished: true
    metadata: [
      { key: "cp_offering_id", value: "kb-assistant-001" }
      { key: "credits_estimate_min", value: "2" }
      { key: "credits_estimate_max", value: "5" }
      { key: "credits_estimate_label", value: "~2-5/query" }
      { key: "primary_outcome", value: "knowledge_assistant" }
      { key: "primary_role", value: "operations" }
    ]
    attributes: [
      { id: "QXR0cmlidXRlOjE=", values: ["assistant"] }
      { id: "QXR0cmlidXRlOjI=", values: ["customer_support", "hr", "it_helpdesk", "operations"] }
      { id: "QXR0cmlidXRlOjM=", values: ["knowledge_assistant"] }
      { id: "QXR0cmlidXRlOjQ=", values: ["chat_ui", "web_widget", "rag_knowledgebase", "multilingual", "audit_trail"] }
      { id: "QXR0cmlidXRlOjU=", values: ["google_drive", "notion", "slack"] }
      { id: "QXR0cmlidXRlOjY=", values: ["shared"] }
      { id: "QXR0cmlidXRlOjc=", values: ["stable"] }
      { id: "QXR0cmlidXRlOjk=", values: ["verified", "featured", "trial_available"] }
    ]
  }) {
    product {
      id
      slug
      name
    }
    errors {
      field
      message
    }
  }
}

# 5. HR Onboarding Assistant
mutation CreateHROnboardingAssistant {
  productCreate(input: {
    productType: "UHJvZHVjdFR5cGU6MQ=="
    name: "HR Onboarding Assistant"
    slug: "hr-onboarding-assistant"
    description: "AI assistant that guides new employees through onboarding, answers HR questions, and helps with policy lookups."
    category: "Q2F0ZWdvcnk6MQ=="
    isPublished: true
    metadata: [
      { key: "cp_offering_id", value: "hr-onboarding-assistant-001" }
      { key: "credits_estimate_min", value: "2" }
      { key: "credits_estimate_max", value: "6" }
      { key: "credits_estimate_label", value: "~2-6/interaction" }
      { key: "primary_outcome", value: "hr_ops" }
      { key: "primary_role", value: "hr" }
    ]
    attributes: [
      { id: "QXR0cmlidXRlOjE=", values: ["assistant"] }
      { id: "QXR0cmlidXRlOjI=", values: ["hr"] }
      { id: "QXR0cmlidXRlOjM=", values: ["hr_ops", "knowledge_assistant"] }
      { id: "QXR0cmlidXRlOjQ=", values: ["chat_ui", "rag_knowledgebase", "scheduler_triggers"] }
      { id: "QXR0cmlidXRlOjU=", values: ["slack", "google_calendar", "notion"] }
      { id: "QXR0cmlidXRlOjY=", values: ["shared"] }
      { id: "QXR0cmlidXRlOjc=", values: ["stable"] }
      { id: "QXR0cmlidXRlOjk=", values: ["verified", "trial_available"] }
    ]
  }) {
    product {
      id
      slug
      name
    }
    errors {
      field
      message
    }
  }
}

# =============================================================================
# APPS
# =============================================================================

# 6. Slack Helpdesk App
mutation CreateSlackHelpdeskApp {
  productCreate(input: {
    productType: "UHJvZHVjdFR5cGU6MQ=="
    name: "Slack Helpdesk"
    slug: "slack-helpdesk"
    description: "Complete helpdesk solution for Slack. Route tickets, auto-respond, escalate to agents, and track SLAs - all from Slack."
    category: "Q2F0ZWdvcnk6MQ=="
    isPublished: true
    metadata: [
      { key: "cp_offering_id", value: "slack-helpdesk-001" }
      { key: "credits_estimate_min", value: "1" }
      { key: "credits_estimate_max", value: "5" }
      { key: "credits_estimate_label", value: "~1-5/ticket" }
      { key: "primary_outcome", value: "customer_support" }
      { key: "primary_role", value: "customer_support" }
    ]
    attributes: [
      { id: "QXR0cmlidXRlOjE=", values: ["app"] }
      { id: "QXR0cmlidXRlOjI=", values: ["customer_support", "it_helpdesk"] }
      { id: "QXR0cmlidXRlOjM=", values: ["customer_support"] }
      { id: "QXR0cmlidXRlOjQ=", values: ["tool_connectors", "scheduler_triggers", "audit_trail", "observability"] }
      { id: "QXR0cmlidXRlOjU=", values: ["slack"] }
      { id: "QXR0cmlidXRlOjY=", values: ["shared"] }
      { id: "QXR0cmlidXRlOjc=", values: ["stable"] }
      { id: "QXR0cmlidXRlOjk=", values: ["verified", "trial_available"] }
    ]
  }) {
    product {
      id
      slug
      name
    }
    errors {
      field
      message
    }
  }
}

# 7. Data Extraction Pipeline
mutation CreateDataExtractionApp {
  productCreate(input: {
    productType: "UHJvZHVjdFR5cGU6MQ=="
    name: "Data Extraction Pipeline"
    slug: "data-extraction-pipeline"
    description: "Extract structured data from PDFs, images, and documents. Configure extraction schemas, validate output, and export to your systems."
    category: "Q2F0ZWdvcnk6MQ=="
    isPublished: true
    metadata: [
      { key: "cp_offering_id", value: "data-extraction-001" }
      { key: "credits_estimate_min", value: "5" }
      { key: "credits_estimate_max", value: "20" }
      { key: "credits_estimate_label", value: "~5-20/document" }
      { key: "primary_outcome", value: "data_extraction" }
      { key: "primary_role", value: "operations" }
    ]
    attributes: [
      { id: "QXR0cmlidXRlOjE=", values: ["app"] }
      { id: "QXR0cmlidXRlOjI=", values: ["operations", "finance"] }
      { id: "QXR0cmlidXRlOjM=", values: ["data_extraction"] }
      { id: "QXR0cmlidXRlOjQ=", values: ["multimodal_vision", "api_endpoint", "tool_connectors", "observability"] }
      { id: "QXR0cmlidXRlOjU=", values: ["google_drive", "webhook"] }
      { id: "QXR0cmlidXRlOjY=", values: ["shared"] }
      { id: "QXR0cmlidXRlOjc=", values: ["stable"] }
      { id: "QXR0cmlidXRlOjk=", values: ["trial_available"] }
    ]
  }) {
    product {
      id
      slug
      name
    }
    errors {
      field
      message
    }
  }
}

# =============================================================================
# AUTOMATIONS
# =============================================================================

# 8. Email Automation
mutation CreateEmailAutomation {
  productCreate(input: {
    productType: "UHJvZHVjdFR5cGU6MQ=="
    name: "Email Automation"
    slug: "email-automation"
    description: "Automated email workflows: classify, route, draft responses, and follow up. Set rules and let AI handle the rest."
    category: "Q2F0ZWdvcnk6MQ=="
    isPublished: true
    metadata: [
      { key: "cp_offering_id", value: "email-automation-001" }
      { key: "credits_estimate_min", value: "1" }
      { key: "credits_estimate_max", value: "3" }
      { key: "credits_estimate_label", value: "~1-3/email" }
      { key: "primary_outcome", value: "customer_support" }
      { key: "primary_role", value: "customer_support" }
    ]
    attributes: [
      { id: "QXR0cmlidXRlOjE=", values: ["automation"] }
      { id: "QXR0cmlidXRlOjI=", values: ["customer_support", "sales_sdr", "marketing"] }
      { id: "QXR0cmlidXRlOjM=", values: ["customer_support", "sales_outreach"] }
      { id: "QXR0cmlidXRlOjQ=", values: ["tool_connectors", "scheduler_triggers", "guardrails_policy"] }
      { id: "QXR0cmlidXRlOjU=", values: ["email", "hubspot", "salesforce"] }
      { id: "QXR0cmlidXRlOjY=", values: ["shared"] }
      { id: "QXR0cmlidXRlOjc=", values: ["stable"] }
      { id: "QXR0cmlidXRlOjk=", values: ["verified", "trial_available"] }
    ]
  }) {
    product {
      id
      slug
      name
    }
    errors {
      field
      message
    }
  }
}

# 9. Monitoring & Alerting
mutation CreateMonitoringAutomation {
  productCreate(input: {
    productType: "UHJvZHVjdFR5cGU6MQ=="
    name: "Monitoring & Alerting"
    slug: "monitoring-alerting"
    description: "AI-powered monitoring that watches metrics, logs, and events. Smart alerting that reduces noise and catches what matters."
    category: "Q2F0ZWdvcnk6MQ=="
    isPublished: true
    metadata: [
      { key: "cp_offering_id", value: "monitoring-alerting-001" }
      { key: "credits_estimate_min", value: "1" }
      { key: "credits_estimate_max", value: "5" }
      { key: "credits_estimate_label", value: "~1-5/alert" }
      { key: "primary_outcome", value: "monitoring_alerting" }
      { key: "primary_role", value: "operations" }
    ]
    attributes: [
      { id: "QXR0cmlidXRlOjE=", values: ["automation"] }
      { id: "QXR0cmlidXRlOjI=", values: ["it_helpdesk", "operations"] }
      { id: "QXR0cmlidXRlOjM=", values: ["monitoring_alerting"] }
      { id: "QXR0cmlidXRlOjQ=", values: ["scheduler_triggers", "tool_connectors", "observability", "audit_trail"] }
      { id: "QXR0cmlidXRlOjU=", values: ["slack", "webhook"] }
      { id: "QXR0cmlidXRlOjY=", values: ["shared"] }
      { id: "QXR0cmlidXRlOjc=", values: ["stable"] }
      { id: "QXR0cmlidXRlOjk=", values: ["trial_available"] }
    ]
  }) {
    product {
      id
      slug
      name
    }
    errors {
      field
      message
    }
  }
}

# 10. Meeting Scheduler Automation
mutation CreateMeetingSchedulerAutomation {
  productCreate(input: {
    productType: "UHJvZHVjdFR5cGU6MQ=="
    name: "Meeting Scheduler"
    slug: "meeting-scheduler"
    description: "AI that schedules, reschedules, and confirms meetings. Handles back-and-forth, finds optimal times, and sends calendar invites."
    category: "Q2F0ZWdvcnk6MQ=="
    isPublished: true
    metadata: [
      { key: "cp_offering_id", value: "meeting-scheduler-001" }
      { key: "credits_estimate_min", value: "2" }
      { key: "credits_estimate_max", value: "5" }
      { key: "credits_estimate_label", value: "~2-5/meeting" }
      { key: "primary_outcome", value: "meeting_scheduler" }
      { key: "primary_role", value: "sales_sdr" }
    ]
    attributes: [
      { id: "QXR0cmlidXRlOjE=", values: ["automation"] }
      { id: "QXR0cmlidXRlOjI=", values: ["sales_sdr", "customer_support", "hr"] }
      { id: "QXR0cmlidXRlOjM=", values: ["meeting_scheduler"] }
      { id: "QXR0cmlidXRlOjQ=", values: ["tool_connectors", "scheduler_triggers", "multilingual"] }
      { id: "QXR0cmlidXRlOjU=", values: ["google_calendar", "email", "slack"] }
      { id: "QXR0cmlidXRlOjY=", values: ["shared"] }
      { id: "QXR0cmlidXRlOjc=", values: ["stable"] }
      { id: "QXR0cmlidXRlOjk=", values: ["verified", "featured", "trial_available"] }
    ]
  }) {
    product {
      id
      slug
      name
    }
    errors {
      field
      message
    }
  }
}

# =============================================================================
# VERIFICATION
# =============================================================================

query VerifyProducts {
  products(first: 20, channel: "default-channel") {
    edges {
      node {
        id
        slug
        name
        metadata {
          key
          value
        }
        attributes {
          attribute {
            slug
          }
          values {
            slug
            name
          }
        }
      }
    }
  }
}

# =============================================================================
# PRICING VARIANTS (Add to each product)
# =============================================================================

# Example: Add pricing variant to Customer Support Agent
mutation AddPricingVariant {
  productVariantCreate(input: {
    product: "UHJvZHVjdDox"  # Replace with actual product ID
    sku: "cust-support-agent-monthly"
    name: "Monthly Subscription"
    trackInventory: false
  }) {
    productVariant {
      id
      sku
      name
    }
    errors {
      field
      message
    }
  }
}

# Set variant price
mutation SetVariantPrice {
  productVariantChannelListingUpdate(
    id: "UHJvZHVjdFZhcmlhbnQ6MQ=="  # Replace with variant ID
    input: [
      {
        channelId: "Q2hhbm5lbDox"  # default-channel ID
        price: 49.00
        costPrice: 0
      }
    ]
  ) {
    variant {
      id
      channelListings {
        price {
          amount
          currency
        }
      }
    }
    errors {
      field
      message
    }
  }
}
